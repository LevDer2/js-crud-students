{"mappings":"ACCA,MAAM,kBAAoB,SAAS,aAAa,CAAC,qBAC3C,MAAQ,SAAS,aAAa,CAAC,mBAC/B,QAAU,SAAS,aAAa,CAAC,qBAGvC,SAAS,cACP,OAAO,MAAM,kCAAkC,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,GACvE,CAGA,SAAS,cAAc,CAAE,EACvB,OAAO,MAAM,CAAC,+BAA+B,EAAE,EAAA,CAAI,CAAE,CACnD,OAAQ,QACV,GAAG,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,GAC3B,CAGA,SAAS,cAAc,CAAO,EAS5B,OAAO,MAAM,kCARG,CACd,OAAQ,OACR,KAAM,KAAK,SAAS,CAAC,GACrB,QAAS,CACP,eAAgB,kBAClB,CACF,GAEyD,IAAI,CAAC,AAAC,GAC7D,EAAI,IAAI,GAEZ,CAYA,SAAS,eAAe,CAAQ,EAC9B,MAAM,SAAS,CAAG,GAClB,IAAM,EAAO,EACV,GAAG,CAAC,CAAC,CAAE,GAAA,CAAE,CAAE,KAAA,CAAI,CAAE,OAAA,CAAM,CAAE,WAAA,CAAU,CAAE,IAAA,CAAG,CAAE,OAAA,CAAM,CAAE,MAAA,CAAK,CAAE,IACxD,IAAM,EAAa,OAAO,MAAM,CAAC,GAAQ,IAAI,CAAC,IAC9C,MAAO;AACG,gBAAA,EAAE,EAAG;AACP,cAAA,EAAE,EAAG;AACL,cAAA,EAAE,EAAK;AACP,cAAA,EAAE,EAAI;AACN,cAAA,EAAE,EAAO;AACT,cAAA,EAAE,EAAW;AACb,cAAA,EAAE,EAAM;AACR,cAAA,EAAE,EAAa,MAAQ,KAAK;AAAM;AACkD;AACtF,MACN,CAAC,AACH,GACC,IAAI,CAAC,IACR,MAAM,kBAAkB,CAAC,YAAa,EACxC,CAkCA,SAAS,WAAW,CAAC,EAErB,CAGA,SAAS,cAAc,CAAE,EAEzB,CAGA,SAAS,cAAc,CAAE,EACvB,QAAQ,GAAG,CAAC,GACZ,cAAc,GACX,IAAI,CAAC,IAAM,eACX,IAAI,CAAC,eACV,CA3EA,kBAAkB,gBAAgB,CAAC,QAAS,AAAC,IAC3C,EAAM,WAAW,CAAG,UACb,cAAc,IAAI,CAAC,kBA2B5B,MAAM,gBAAgB,CAAC,QAAS,AAAC,IAE/B,GAAI,AAAgC,WAAhC,EAAM,MAAM,CAAC,OAAO,CAAC,MAAM,CAE7B,OAAO,cADQ,EAAM,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAGhD,GAGA,QAAQ,gBAAgB,CAAC,SAAU,AAAC,IAClC,EAAM,cAAc,GACpB,GAAM,CAAE,KAAA,CAAI,CAAE,IAAA,CAAG,CAAE,OAAA,CAAM,CAAE,OAAA,CAAM,CAAE,MAAA,CAAK,CAAE,WAAA,CAAU,CAAE,CACpD,EAAM,MAAM,CAAC,QAAQ,CAevB,cARa,CACX,KAAM,EAAK,KAAK,CAAC,IAAI,GACrB,IAAK,OAAO,EAAI,KAAK,CAAC,IAAI,IAC1B,OAAQ,EAAO,KAAK,CAAC,IAAI,GACzB,OAAQ,EAAO,KAAK,CAAC,IAAI,GACzB,MAAO,EAAM,KAAK,CAAC,IAAI,GACvB,WAAY,EAAW,KAAK,CAAC,IAAI,EACnC,EAEF","sources":["<anon>","src/index.js"],"sourcesContent":["// ! Elements!\nconst getStudentsButton = document.querySelector(\"#get-students-btn\");\nconst table = document.querySelector(\".students-tbody\");\nconst formRef = document.querySelector(\"#add-student-form\");\n//! API Get STudents Функція для отримання всіх студентів\nfunction getStudents() {\n    return fetch(`http://localhost:3000/students`).then((res)=>res.json());\n}\n// ! API Delete student\nfunction delStudentApi(id) {\n    return fetch(`http://localhost:3000/students/${id}`, {\n        method: \"DELETE\"\n    }).then((res)=>res.json());\n}\n// ! API Add New student\nfunction addStudentApi(student) {\n    const options = {\n        method: \"POST\",\n        body: JSON.stringify(student),\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    };\n    return fetch(`http://localhost:3000/students/`, options).then((res)=>res.json());\n}\n// ! For checking our students\n// getStudents().then((res) => console.log(res));\n// ! If we click to this button we will get our students\ngetStudentsButton.addEventListener(\"click\", (event)=>{\n    event.textContent = \"Restart\";\n    return getStudents().then(renderStudents);\n});\n// ! Render function\nfunction renderStudents(students) {\n    table.innerHTML = \"\";\n    const rows = students.map(({ id, name, skills, isEnrolled, age, course, email })=>{\n        const skillsList = Object.values(skills).join(\"\");\n        return `\n        <tr id=\"${id}\">\n          <td>${id}</td>\n          <td>${name}</td>\n          <td>${age}</td>\n          <td>${course}</td>\n          <td>${skillsList}</td>\n          <td>${email}</td>\n          <td>${isEnrolled ? \"\\u0422\\u0430\\u043A\" : \"\\u041D\\u0456\"}</td>\n          <td><button class=\"delete-students\" data-action=\"Delete\">\\u{412}\\u{438}\\u{434}\\u{430}\\u{43B}\\u{438}\\u{442}\\u{438} \\u{441}\\u{442}\\u{443}\\u{434}\\u{435}\\u{43D}\\u{442}\\u{430}</button></td>\n        </tr>\n      `;\n    }).join(\"\");\n    table.insertAdjacentHTML(\"beforeend\", rows);\n}\n// ! If we click to this button we will delete one of our students\ntable.addEventListener(\"click\", (event)=>{\n    // const deleteButton = event.target.closest(\"button.delete-students\");\n    if (event.target.dataset.action === \"Delete\") {\n        const itemId = event.target.closest(\"tr\").id;\n        return deleteStudent(itemId);\n    }\n});\n// ! Submit form to add new student\nformRef.addEventListener(\"submit\", (event)=>{\n    event.preventDefault();\n    const { name, age, course, skills, email, isEnrolled } = event.target.elements;\n    // console.log(name);\n    // console.log(age);\n    // console.log(course);\n    // console.log(skills);\n    // console.log(email);\n    // console.log(isEnrolled);\n    const data = {\n        name: name.value.trim(),\n        age: Number(age.value.trim()),\n        course: course.value.trim(),\n        skills: skills.value.trim(),\n        email: email.value.trim(),\n        isEnrolled: isEnrolled.value.trim()\n    };\n    addStudentApi(data);\n});\n// Функція для додавання нового студента\nfunction addStudent(e) {\n// твій код\n}\n// Функція для оновлення студента\nfunction updateStudent(id) {\n// твій код\n}\n// Функція для видалення студента\nfunction deleteStudent(id) {\n    console.log(id);\n    delStudentApi(id).then(()=>getStudents()).then(renderStudents);\n}\n\n//# sourceMappingURL=js-crud-students.450375f5.js.map\n","// ! Elements!\r\nconst getStudentsButton = document.querySelector(\"#get-students-btn\");\r\nconst table = document.querySelector(\".students-tbody\");\r\nconst formRef = document.querySelector(\"#add-student-form\");\r\n\r\n//! API Get STudents Функція для отримання всіх студентів\r\nfunction getStudents() {\r\n  return fetch(`http://localhost:3000/students`).then((res) => res.json());\r\n}\r\n\r\n// ! API Delete student\r\nfunction delStudentApi(id) {\r\n  return fetch(`http://localhost:3000/students/${id}`, {\r\n    method: \"DELETE\",\r\n  }).then((res) => res.json());\r\n}\r\n\r\n// ! API Add New student\r\nfunction addStudentApi(student) {\r\n  const options = {\r\n    method: \"POST\",\r\n    body: JSON.stringify(student),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  return fetch(`http://localhost:3000/students/`, options).then((res) =>\r\n    res.json()\r\n  );\r\n}\r\n\r\n// ! For checking our students\r\n// getStudents().then((res) => console.log(res));\r\n\r\n// ! If we click to this button we will get our students\r\ngetStudentsButton.addEventListener(\"click\", (event) => {\r\n  event.textContent = \"Restart\";\r\n  return getStudents().then(renderStudents);\r\n});\r\n\r\n// ! Render function\r\nfunction renderStudents(students) {\r\n  table.innerHTML = \"\";\r\n  const rows = students\r\n    .map(({ id, name, skills, isEnrolled, age, course, email }) => {\r\n      const skillsList = Object.values(skills).join(\"\");\r\n      return `\r\n        <tr id=\"${id}\">\r\n          <td>${id}</td>\r\n          <td>${name}</td>\r\n          <td>${age}</td>\r\n          <td>${course}</td>\r\n          <td>${skillsList}</td>\r\n          <td>${email}</td>\r\n          <td>${isEnrolled ? \"Так\" : \"Ні\"}</td>\r\n          <td><button class=\"delete-students\" data-action=\"Delete\">Видалити студента</button></td>\r\n        </tr>\r\n      `;\r\n    })\r\n    .join(\"\");\r\n  table.insertAdjacentHTML(\"beforeend\", rows);\r\n}\r\n\r\n// ! If we click to this button we will delete one of our students\r\ntable.addEventListener(\"click\", (event) => {\r\n  // const deleteButton = event.target.closest(\"button.delete-students\");\r\n  if (event.target.dataset.action === \"Delete\") {\r\n    const itemId = event.target.closest(\"tr\").id;\r\n    return deleteStudent(itemId);\r\n  }\r\n});\r\n\r\n// ! Submit form to add new student\r\nformRef.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  const { name, age, course, skills, email, isEnrolled } =\r\n    event.target.elements;\r\n  // console.log(name);\r\n  // console.log(age);\r\n  // console.log(course);\r\n  // console.log(skills);\r\n  // console.log(email);\r\n  // console.log(isEnrolled);\r\n  const data = {\r\n    name: name.value.trim(),\r\n    age: Number(age.value.trim()),\r\n    course: course.value.trim(),\r\n    skills: skills.value.trim(),\r\n    email: email.value.trim(),\r\n    isEnrolled: isEnrolled.value.trim(),\r\n  };\r\n  addStudentApi(data);\r\n});\r\n\r\n// Функція для додавання нового студента\r\nfunction addStudent(e) {\r\n  // твій код\r\n}\r\n\r\n// Функція для оновлення студента\r\nfunction updateStudent(id) {\r\n  // твій код\r\n}\r\n\r\n// Функція для видалення студента\r\nfunction deleteStudent(id) {\r\n  console.log(id);\r\n  delStudentApi(id)\r\n    .then(() => getStudents())\r\n    .then(renderStudents);\r\n}\r\n"],"names":["getStudentsButton","document","querySelector","table","formRef","getStudents","fetch","then","res","json","delStudentApi","id","method","addStudentApi","student","body","JSON","stringify","headers","renderStudents","students","innerHTML","rows","map","name","skills","isEnrolled","age","course","email","skillsList","Object","values","join","insertAdjacentHTML","addStudent","e","updateStudent","deleteStudent","console","log","addEventListener","event","textContent","target","dataset","action","closest","preventDefault","elements","value","trim","Number"],"version":3,"file":"js-crud-students.450375f5.js.map"}