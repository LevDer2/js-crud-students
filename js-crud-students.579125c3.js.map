{"mappings":"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","sources":["src/index.js"],"sourcesContent":["// ! Elements!\r\nconst getStudentsButton = document.querySelector(\"#get-students-btn\");\r\nconst table = document.querySelector(\".students-tbody\");\r\nconst formRef = document.querySelector(\"#add-student-form\");\r\n\r\n// ! If here we have null we will add new student if underfined we will edit our student\r\nlet editOrAdd = null;\r\n\r\n//! API Get STudents Функція для отримання всіх студентів\r\nfunction getStudents() {\r\n  return fetch(`http://localhost:3000/students`).then((res) => res.json());\r\n}\r\n\r\n// ! API Delete student\r\nfunction delStudentApi(id) {\r\n  return fetch(`http://localhost:3000/students/${id}`, {\r\n    method: \"DELETE\",\r\n  }).then((res) => res.json());\r\n}\r\n\r\n// ! API Add New student\r\nfunction addStudentApi(student) {\r\n  const options = {\r\n    method: \"POST\",\r\n    body: JSON.stringify(student),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  return fetch(`http://localhost:3000/students/`, options).then((res) =>\r\n    res.json()\r\n  );\r\n}\r\n\r\n// ! API Edit Student\r\nfunction editStudentApi(id, student) {\r\n  const options = {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(student),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  return fetch(`http://localhost:3000/students/${id}`, options).then((res) =>\r\n    res.json()\r\n  );\r\n}\r\n\r\n// ! For checking our students\r\n// getStudents().then((res) => console.log(res));\r\n\r\n// ! If we click to this button we will get our students\r\ngetStudentsButton.addEventListener(\"click\", () => {\r\n  // getStudentsButton.textContent = \"Оновити список студентів\";\r\n  getStudentsButton.style.display = \"none\";\r\n  return getStudents().then(renderStudents);\r\n});\r\n\r\n// ! Render function\r\nfunction renderStudents(students) {\r\n  table.innerHTML = \"\";\r\n  const rows = students\r\n    .map(({ id, name, skills, isEnrolled, age, course, email }) => {\r\n      const skillsList = Object.values(skills).join(\"\");\r\n      return `\r\n        <tr id=\"${id}\">\r\n          <td>${id}</td>\r\n          <td data-action=\"Name\">${name}</td>\r\n          <td data-action=\"Age\">${age}</td>\r\n          <td data-action=\"Course\">${course}</td>\r\n          <td data-action=\"Skills\">${skillsList}</td>\r\n          <td data-action=\"Email\">${email}</td>\r\n          <td data-action=\"CheckBox\">${isEnrolled ? \"Онлайн\" : \"Офлайн\"}</td>\r\n          <td><button class=\"delete-students\" data-action=\"Delete\">Видалити студента</button>\\\r\n          <button class=\"edit-students\" data-action=\"Edit\">Змінити дані студента</button></td>\r\n        </tr>\r\n      `;\r\n    })\r\n    .join(\"\");\r\n  table.insertAdjacentHTML(\"beforeend\", rows);\r\n}\r\n\r\n// ! If we click to this button we will delete one of our students\r\ntable.addEventListener(\"click\", (event) => {\r\n  // const deleteButton = event.target.closest(\"button.delete-students\");\r\n  if (event.target.dataset.action === \"Delete\") {\r\n    const itemId = event.target.closest(\"tr\").id;\r\n    return deleteStudent(itemId);\r\n  } else if (event.target.dataset.action === \"Edit\") {\r\n    const itemId = event.target.closest(\"tr\")\r\n    console.log(itemId);\r\n    editOrAdd = undefined;\r\n    return updateStudent(itemId);\r\n  }\r\n});\r\n\r\n// ! Submit form to add new student or edit student\r\nformRef.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  const { name, age, course, skills, email, isEnrolled } =\r\n    event.target.elements;\r\n  console.log(name.value);\r\n  console.log(age.value);\r\n  console.log(course.value);\r\n  console.log(skills.value);\r\n  console.log(email.value);\r\n  console.log(isEnrolled.checked);\r\n  const data = {\r\n    name: name.value.trim(),\r\n    age: Number(age.value.trim()),\r\n    course: course.value.trim(),\r\n    skills: skills.value.trim(),\r\n    email: email.value.trim(),\r\n    isEnrolled: isEnrolled.checked,\r\n  };\r\n  // ! Add student\r\n  if (editOrAdd === null) {\r\n      addStudentApi(data)\r\n    .then(() => getStudents())\r\n    .then(renderStudents);\r\n  }\r\n  // ! Edit student\r\n  else if (editOrAdd === undefined) {\r\n    \r\n  }\r\n  // event.target.reset();\r\n});\r\n\r\n// Функція для додавання нового студента\r\nfunction addStudent(e) {\r\n  // твій код\r\n}\r\n\r\n// Функція для оновлення студента\r\nfunction updateStudent(id) {\r\n  // твій код\r\n}\r\n\r\n// Функція для видалення студента\r\nfunction deleteStudent(id) {\r\n  console.log(id);\r\n  delStudentApi(id)\r\n    .then(() => getStudents())\r\n    .then(renderStudents);\r\n}\r\n\r\n// TODO Clean code in // and make edit function\r\n"],"names":[],"version":3,"file":"js-crud-students.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}