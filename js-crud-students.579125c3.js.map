{"mappings":"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","sources":["src/index.js"],"sourcesContent":["// // ! Elements!\r\n// const getStudentsButton = document.querySelector(\"#get-students-btn\");\r\n// const table = document.querySelector(\".students-tbody\");\r\n// const formRef = document.querySelector(\"#add-student-form\");\r\n\r\n// // ! If here we have null we will add new student if underfined we will edit our student\r\n// let editOrAdd = null;\r\n\r\n// //! API Get STudents Функція для отримання всіх студентів\r\n// function getStudents() {\r\n//   return fetch(`http://localhost:3000/students`).then((res) => res.json());\r\n// }\r\n\r\n// // ! API Delete student\r\n// function delStudentApi(id) {\r\n//   return fetch(`http://localhost:3000/students/${id}`, {\r\n//     method: \"DELETE\",\r\n//   }).then((res) => res.json());\r\n// }\r\n\r\n// // ! API Add New student\r\n// function addStudentApi(student) {\r\n//   const options = {\r\n//     method: \"POST\",\r\n//     body: JSON.stringify(student),\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//   };\r\n\r\n//   return fetch(`http://localhost:3000/students/`, options).then((res) =>\r\n//     res.json()\r\n//   );\r\n// }\r\n\r\n// // ! API Edit Student\r\n// function editStudentApi(id, student) {\r\n//   const options = {\r\n//     method: \"PUT\",\r\n//     body: JSON.stringify(student),\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//   };\r\n\r\n//   return fetch(`http://localhost:3000/students/${id}`, options).then((res) =>\r\n//     res.json()\r\n//   );\r\n// }\r\n\r\n// // ! For checking our students\r\n// // getStudents().then((res) => console.log(res));\r\n\r\n// // ! If we click to this button we will get our students\r\n// getStudentsButton.addEventListener(\"click\", () => {\r\n//   // getStudentsButton.textContent = \"Оновити список студентів\";\r\n//   getStudentsButton.style.display = \"none\";\r\n//   return getStudents().then(renderStudents);\r\n// });\r\n\r\n// // ! Render function\r\n// function renderStudents(students) {\r\n//   table.innerHTML = \"\";\r\n//   const rows = students\r\n//     .map(({ id, name, skills, isEnrolled, age, course, email }) => {\r\n//       const skillsList = Object.values(skills).join(\"\");\r\n//       return `\r\n//         <tr id=\"${id}\">\r\n//           <td>${id}</td>\r\n//           <td data-action=\"Name\">${name}</td>\r\n//           <td data-action=\"Age\">${age}</td>\r\n//           <td data-action=\"Course\">${course}</td>\r\n//           <td data-action=\"Skills\">${skillsList}</td>\r\n//           <td data-action=\"Email\">${email}</td>\r\n//           <td data-action=\"CheckBox\">${isEnrolled ? \"Онлайн\" : \"Офлайн\"}</td>\r\n//           <td><button class=\"delete-students\" data-action=\"Delete\">Видалити студента</button>\\\r\n//           <button class=\"edit-students\" data-action=\"Edit\">Змінити дані студента</button></td>\r\n//         </tr>\r\n//       `;\r\n//     })\r\n//     .join(\"\");\r\n//   table.insertAdjacentHTML(\"beforeend\", rows);\r\n// }\r\n\r\n// // ! If we click to this button we will delete one of our students\r\n// table.addEventListener(\"click\", (event) => {\r\n//   // const deleteButton = event.target.closest(\"button.delete-students\");\r\n//   if (event.target.dataset.action === \"Delete\") {\r\n//     const itemId = event.target.closest(\"tr\").id;\r\n//     return deleteStudent(itemId);\r\n//   } else if (event.target.dataset.action === \"Edit\") {\r\n//     const itemId = event.target.closest(\"tr\").id; // <- важливо .id\r\n//     editOrAdd = itemId; // краще зберігати тут id (а не undefined)\r\n//     return updateStudent(itemId);\r\n//   }\r\n// });\r\n\r\n// // ! Submit form to add new student or edit student\r\n// formRef.addEventListener(\"submit\", (event) => {\r\n//   event.preventDefault();\r\n//   const { name, age, course, skills, email, isEnrolled } =\r\n//     event.target.elements;\r\n//   // console.log(name.value);\r\n//   // console.log(age.value);\r\n//   // console.log(course.value);\r\n//   // console.log(skills.value);\r\n//   // console.log(email.value);\r\n//   // console.log(isEnrolled.checked);\r\n//   const data = {\r\n//     name: name.value.trim(),\r\n//     age: Number(age.value.trim()),\r\n//     course: course.value.trim(),\r\n//     skills: skills.value.trim(),\r\n//     email: email.value.trim(),\r\n//     isEnrolled: isEnrolled.checked,\r\n//   };\r\n//   // ! Add student\r\n//   if (editOrAdd === null) {\r\n//     addStudentApi(data)\r\n//       .then(() => getStudents())\r\n//       .then(renderStudents);\r\n//   }\r\n//   // ! Edit student\r\n//   else if (editOrAdd === undefined) {\r\n//      editStudentApi(editId, { id: Number(editId), ...data })\r\n//     .then(() => getStudents())\r\n//     .then(renderStudents)\r\n//     .finally(() => {\r\n//       editId = null;\r\n//       event.target.reset();\r\n//     });\r\n//   }\r\n//   // event.target.reset();\r\n// });\r\n\r\n// // Функція для додавання нового студента\r\n// function addStudent(e) {\r\n//   // твій код\r\n// }\r\n\r\n// // Функція для оновлення студента\r\n// function updateStudent(id) {\r\n//   const tr = document.getElementById(id);\r\n//   if (!tr) return;\r\n\r\n//   const name = tr.querySelector('[data-action=\"Name\"]').textContent.trim();\r\n//   const age = tr.querySelector('[data-action=\"Age\"]').textContent.trim();\r\n//   const course = tr.querySelector('[data-action=\"Course\"]').textContent.trim();\r\n//   const skills = tr.querySelector('[data-action=\"Skills\"]').textContent.trim();\r\n//   const email = tr.querySelector('[data-action=\"Email\"]').textContent.trim();\r\n//   const status = tr.querySelector('[data-action=\"CheckBox\"]').textContent.trim();\r\n\r\n//   formRef.elements.name.value = name;\r\n//   formRef.elements.age.value = age;\r\n//   formRef.elements.course.value = course;\r\n//   formRef.elements.skills.value = skills;\r\n//   formRef.elements.email.value = email;\r\n//   formRef.elements.isEnrolled.checked = status === \"Онлайн\";\r\n// }\r\n\r\n\r\n// // Функція для видалення студента\r\n// function deleteStudent(id) {\r\n//   console.log(id);\r\n//   delStudentApi(id)\r\n//     .then(() => getStudents())\r\n//     .then(renderStudents);\r\n// }\r\n\r\n// // TODO Clean code in // and make edit function\r\n\r\n\r\n\r\n// ! Elements!\r\nconst getStudentsButton = document.querySelector(\"#get-students-btn\");\r\nconst table = document.querySelector(\".students-tbody\");\r\nconst formRef = document.querySelector(\"#add-student-form\");\r\n\r\nlet editOrAdd = null;\r\n\r\n//! API Get Students\r\nfunction getStudents() {\r\n  return fetch(`http://localhost:3000/students`).then((res) => res.json());\r\n}\r\n\r\n// ! API Delete student\r\nfunction delStudentApi(id) {\r\n  return fetch(`http://localhost:3000/students/${id}`, {\r\n    method: \"DELETE\",\r\n  }).then((res) => res.json());\r\n}\r\n\r\n// ! API Add New student\r\nfunction addStudentApi(student) {\r\n  const options = {\r\n    method: \"POST\",\r\n    body: JSON.stringify(student),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  return fetch(`http://localhost:3000/students/`, options).then((res) =>\r\n    res.json()\r\n  );\r\n}\r\n\r\n// ! API Edit Student\r\nfunction editStudentApi(id, student) {\r\n  const options = {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(student),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  return fetch(`http://localhost:3000/students/${id}`, options).then((res) =>\r\n    res.json()\r\n  );\r\n}\r\n\r\n// ! If we click to this button we will get our students\r\ngetStudentsButton.addEventListener(\"click\", () => {\r\n  getStudentsButton.style.display = \"none\";\r\n  return getStudents().then(renderStudents);\r\n});\r\n\r\n// ! Render function\r\nfunction renderStudents(students) {\r\n  table.innerHTML = \"\";\r\n  const rows = students\r\n    .map(({ id, name, skills, isEnrolled, age, course, email }) => {\r\n      const skillsList =\r\n        skills && typeof skills === \"object\"\r\n          ? Object.values(skills).join(\", \")\r\n          : String(skills ?? \"\");\r\n\r\n      return `\r\n        <tr id=\"${id}\">\r\n          <td>${id}</td>\r\n          <td data-action=\"Name\">${name}</td>\r\n          <td data-action=\"Age\">${age}</td>\r\n          <td data-action=\"Course\">${course}</td>\r\n          <td data-action=\"Skills\">${skillsList}</td>\r\n          <td data-action=\"Email\">${email}</td>\r\n          <td data-action=\"CheckBox\">${isEnrolled ? \"Онлайн\" : \"Офлайн\"}</td>\r\n          <td>\r\n            <button class=\"delete-students\" data-action=\"Delete\">Видалити студента</button>\r\n            <button class=\"edit-students\" data-action=\"Edit\">Змінити дані студента</button>\r\n          </td>\r\n        </tr>\r\n      `;\r\n    })\r\n    .join(\"\");\r\n\r\n  table.insertAdjacentHTML(\"beforeend\", rows);\r\n}\r\n\r\n// ! If we click to this button we will delete one of our students OR edit\r\ntable.addEventListener(\"click\", (event) => {\r\n  if (event.target.dataset.action === \"Delete\") {\r\n    const itemId = event.target.closest(\"tr\").id;\r\n    return deleteStudent(itemId);\r\n  } else if (event.target.dataset.action === \"Edit\") {\r\n    // ✅ було: const itemId = event.target.closest(\"tr\")\r\n    const itemId = event.target.closest(\"tr\").id;\r\n    editOrAdd = itemId;\r\n    return updateStudent(itemId);\r\n  }\r\n});\r\n\r\n// ! Submit form to add new student or edit student\r\nformRef.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  const { name, age, course, skills, email, isEnrolled } =\r\n    event.target.elements;\r\n\r\n  const data = {\r\n    name: name.value.trim(),\r\n    age: Number(age.value.trim()),\r\n    course: course.value.trim(),\r\n    skills: skills.value.trim(),\r\n    email: email.value.trim(),\r\n    isEnrolled: isEnrolled.checked,\r\n  };\r\n\r\n  // ! Add student\r\n  if (editOrAdd === null) {\r\n    return addStudentApi(data)\r\n      .then(() => getStudents())\r\n      .then(renderStudents)\r\n      .finally(() => {\r\n        event.target.reset();\r\n      });\r\n  }\r\n\r\n  const id = editOrAdd;\r\n\r\n  return editStudentApi(id, { id: Number(id), ...data })\r\n    .then(() => getStudents())\r\n    .then(renderStudents)\r\n    .finally(() => {\r\n      editOrAdd = null;\r\n      event.target.reset();\r\n    });\r\n});\r\n\r\nfunction updateStudent(id) {\r\n  const tr = document.getElementById(id);\r\n\r\n  const nameText = tr.querySelector('[data-action=\"Name\"]').textContent.trim();\r\n  const ageText = tr.querySelector('[data-action=\"Age\"]').textContent.trim();\r\n  const courseText = tr.querySelector('[data-action=\"Course\"]').textContent.trim();\r\n  const skillsText = tr.querySelector('[data-action=\"Skills\"]').textContent.trim();\r\n  const emailText = tr.querySelector('[data-action=\"Email\"]').textContent.trim();\r\n  const statusText = tr.querySelector('[data-action=\"CheckBox\"]').textContent.trim();\r\n\r\n  formRef.elements.name.value = nameText;\r\n  formRef.elements.age.value = ageText;\r\n  formRef.elements.course.value = courseText;\r\n  formRef.elements.skills.value = skillsText;\r\n  formRef.elements.email.value = emailText;\r\n  formRef.elements.isEnrolled.checked = statusText === \"Онлайн\";\r\n}\r\n\r\n// Функція для видалення студента\r\nfunction deleteStudent(id) {\r\n  return delStudentApi(id)\r\n    .then(() => getStudents())\r\n    .then(renderStudents);\r\n}\r\n"],"names":[],"version":3,"file":"js-crud-students.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}