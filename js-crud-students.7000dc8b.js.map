{"mappings":"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","sources":["<anon>","src/index.js"],"sourcesContent":["// ! Elements!\nconst getStudentsButton = document.querySelector(\"#get-students-btn\");\nconst table = document.querySelector(\".students-tbody\");\nconst formRef = document.querySelector(\"#add-student-form\");\n// ! If here we have null we will add new student if underfined we will edit our student\nlet editOrAdd = null;\n//! API Get STudents Функція для отримання всіх студентів\nfunction getStudents() {\n    return fetch(`http://localhost:3000/students`).then((res)=>res.json());\n}\n// ! API Delete student\nfunction delStudentApi(id) {\n    return fetch(`http://localhost:3000/students/${id}`, {\n        method: \"DELETE\"\n    }).then((res)=>res.json());\n}\n// ! API Add New student\nfunction addStudentApi(student) {\n    const options = {\n        method: \"POST\",\n        body: JSON.stringify(student),\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    };\n    return fetch(`http://localhost:3000/students/`, options).then((res)=>res.json());\n}\n// ! API Edit Student\nfunction editStudentApi(id, student) {\n    const options = {\n        method: \"PUT\",\n        body: JSON.stringify(student),\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    };\n    return fetch(`http://localhost:3000/students/${id}`, options).then((res)=>res.json());\n}\n// ! For checking our students\n// getStudents().then((res) => console.log(res));\n// ! If we click to this button we will get our students\ngetStudentsButton.addEventListener(\"click\", ()=>{\n    // getStudentsButton.textContent = \"Оновити список студентів\";\n    getStudentsButton.style.display = \"none\";\n    return getStudents().then(renderStudents);\n});\n// ! Render function\nfunction renderStudents(students) {\n    table.innerHTML = \"\";\n    const rows = students.map(({ id, name, skills, isEnrolled, age, course, email })=>{\n        const skillsList = Object.values(skills).join(\"\");\n        return `\n        <tr id=\"${id}\">\n          <td>${id}</td>\n          <td data-action=\"Name\">${name}</td>\n          <td data-action=\"Age\">${age}</td>\n          <td data-action=\"Course\">${course}</td>\n          <td data-action=\"Skills\">${skillsList}</td>\n          <td data-action=\"Email\">${email}</td>\n          <td data-action=\"CheckBox\">${isEnrolled ? \"\\u041E\\u043D\\u043B\\u0430\\u0439\\u043D\" : \"\\u041E\\u0444\\u043B\\u0430\\u0439\\u043D\"}</td>\n          <td><button class=\"delete-students\" data-action=\"Delete\">\\u{412}\\u{438}\\u{434}\\u{430}\\u{43B}\\u{438}\\u{442}\\u{438} \\u{441}\\u{442}\\u{443}\\u{434}\\u{435}\\u{43D}\\u{442}\\u{430}</button>\\\n          <button class=\"edit-students\" data-action=\"Edit\">\\u{417}\\u{43C}\\u{456}\\u{43D}\\u{438}\\u{442}\\u{438} \\u{434}\\u{430}\\u{43D}\\u{456} \\u{441}\\u{442}\\u{443}\\u{434}\\u{435}\\u{43D}\\u{442}\\u{430}</button></td>\n        </tr>\n      `;\n    }).join(\"\");\n    table.insertAdjacentHTML(\"beforeend\", rows);\n}\n// ! If we click to this button we will delete one of our students\ntable.addEventListener(\"click\", (event)=>{\n    // const deleteButton = event.target.closest(\"button.delete-students\");\n    if (event.target.dataset.action === \"Delete\") {\n        const itemId = event.target.closest(\"tr\").id;\n        return deleteStudent(itemId);\n    } else if (event.target.dataset.action === \"Edit\") {\n        const itemId = event.target.closest(\"tr\");\n        console.log(itemId);\n        editOrAdd = undefined;\n        return updateStudent(itemId);\n    }\n});\n// ! Submit form to add new student or edit student\nformRef.addEventListener(\"submit\", (event)=>{\n    event.preventDefault();\n    const { name, age, course, skills, email, isEnrolled } = event.target.elements;\n    console.log(name.value);\n    console.log(age.value);\n    console.log(course.value);\n    console.log(skills.value);\n    console.log(email.value);\n    console.log(isEnrolled.checked);\n    const data = {\n        name: name.value.trim(),\n        age: Number(age.value.trim()),\n        course: course.value.trim(),\n        skills: skills.value.trim(),\n        email: email.value.trim(),\n        isEnrolled: isEnrolled.checked\n    };\n    // ! Add student\n    if (editOrAdd === null) addStudentApi(data).then(()=>getStudents()).then(renderStudents);\n// event.target.reset();\n});\n// Функція для додавання нового студента\nfunction addStudent(e) {\n// твій код\n}\n// Функція для оновлення студента\nfunction updateStudent(id) {\n// твій код\n}\n// Функція для видалення студента\nfunction deleteStudent(id) {\n    console.log(id);\n    delStudentApi(id).then(()=>getStudents()).then(renderStudents);\n} // TODO Clean code in // and make edit function\n\n//# sourceMappingURL=js-crud-students.7000dc8b.js.map\n","// ! Elements!\r\nconst getStudentsButton = document.querySelector(\"#get-students-btn\");\r\nconst table = document.querySelector(\".students-tbody\");\r\nconst formRef = document.querySelector(\"#add-student-form\");\r\n\r\n// ! If here we have null we will add new student if underfined we will edit our student\r\nlet editOrAdd = null;\r\n\r\n//! API Get STudents Функція для отримання всіх студентів\r\nfunction getStudents() {\r\n  return fetch(`http://localhost:3000/students`).then((res) => res.json());\r\n}\r\n\r\n// ! API Delete student\r\nfunction delStudentApi(id) {\r\n  return fetch(`http://localhost:3000/students/${id}`, {\r\n    method: \"DELETE\",\r\n  }).then((res) => res.json());\r\n}\r\n\r\n// ! API Add New student\r\nfunction addStudentApi(student) {\r\n  const options = {\r\n    method: \"POST\",\r\n    body: JSON.stringify(student),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  return fetch(`http://localhost:3000/students/`, options).then((res) =>\r\n    res.json()\r\n  );\r\n}\r\n\r\n// ! API Edit Student\r\nfunction editStudentApi(id, student) {\r\n  const options = {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(student),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  return fetch(`http://localhost:3000/students/${id}`, options).then((res) =>\r\n    res.json()\r\n  );\r\n}\r\n\r\n// ! For checking our students\r\n// getStudents().then((res) => console.log(res));\r\n\r\n// ! If we click to this button we will get our students\r\ngetStudentsButton.addEventListener(\"click\", () => {\r\n  // getStudentsButton.textContent = \"Оновити список студентів\";\r\n  getStudentsButton.style.display = \"none\";\r\n  return getStudents().then(renderStudents);\r\n});\r\n\r\n// ! Render function\r\nfunction renderStudents(students) {\r\n  table.innerHTML = \"\";\r\n  const rows = students\r\n    .map(({ id, name, skills, isEnrolled, age, course, email }) => {\r\n      const skillsList = Object.values(skills).join(\"\");\r\n      return `\r\n        <tr id=\"${id}\">\r\n          <td>${id}</td>\r\n          <td data-action=\"Name\">${name}</td>\r\n          <td data-action=\"Age\">${age}</td>\r\n          <td data-action=\"Course\">${course}</td>\r\n          <td data-action=\"Skills\">${skillsList}</td>\r\n          <td data-action=\"Email\">${email}</td>\r\n          <td data-action=\"CheckBox\">${isEnrolled ? \"Онлайн\" : \"Офлайн\"}</td>\r\n          <td><button class=\"delete-students\" data-action=\"Delete\">Видалити студента</button>\\\r\n          <button class=\"edit-students\" data-action=\"Edit\">Змінити дані студента</button></td>\r\n        </tr>\r\n      `;\r\n    })\r\n    .join(\"\");\r\n  table.insertAdjacentHTML(\"beforeend\", rows);\r\n}\r\n\r\n// ! If we click to this button we will delete one of our students\r\ntable.addEventListener(\"click\", (event) => {\r\n  // const deleteButton = event.target.closest(\"button.delete-students\");\r\n  if (event.target.dataset.action === \"Delete\") {\r\n    const itemId = event.target.closest(\"tr\").id;\r\n    return deleteStudent(itemId);\r\n  } else if (event.target.dataset.action === \"Edit\") {\r\n    const itemId = event.target.closest(\"tr\")\r\n    console.log(itemId);\r\n    editOrAdd = undefined;\r\n    return updateStudent(itemId);\r\n  }\r\n});\r\n\r\n// ! Submit form to add new student or edit student\r\nformRef.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  const { name, age, course, skills, email, isEnrolled } =\r\n    event.target.elements;\r\n  console.log(name.value);\r\n  console.log(age.value);\r\n  console.log(course.value);\r\n  console.log(skills.value);\r\n  console.log(email.value);\r\n  console.log(isEnrolled.checked);\r\n  const data = {\r\n    name: name.value.trim(),\r\n    age: Number(age.value.trim()),\r\n    course: course.value.trim(),\r\n    skills: skills.value.trim(),\r\n    email: email.value.trim(),\r\n    isEnrolled: isEnrolled.checked,\r\n  };\r\n  // ! Add student\r\n  if (editOrAdd === null) {\r\n      addStudentApi(data)\r\n    .then(() => getStudents())\r\n    .then(renderStudents);\r\n  }\r\n  // ! Edit student\r\n  else if (editOrAdd === undefined) {\r\n    \r\n  }\r\n  // event.target.reset();\r\n});\r\n\r\n// Функція для додавання нового студента\r\nfunction addStudent(e) {\r\n  // твій код\r\n}\r\n\r\n// Функція для оновлення студента\r\nfunction updateStudent(id) {\r\n  // твій код\r\n}\r\n\r\n// Функція для видалення студента\r\nfunction deleteStudent(id) {\r\n  console.log(id);\r\n  delStudentApi(id)\r\n    .then(() => getStudents())\r\n    .then(renderStudents);\r\n}\r\n\r\n// TODO Clean code in // and make edit function\r\n"],"names":["getStudentsButton","document","querySelector","table","formRef","editOrAdd","getStudents","fetch","then","res","json","delStudentApi","id","method","addStudentApi","student","body","JSON","stringify","headers","editStudentApi","renderStudents","students","innerHTML","rows","map","name","skills","isEnrolled","age","course","email","skillsList","Object","values","join","insertAdjacentHTML","addStudent","e","updateStudent","deleteStudent","console","log","addEventListener","style","display","event","target","dataset","action","closest","itemId","undefined","preventDefault","elements","value","checked","data","trim","Number"],"version":3,"file":"js-crud-students.7000dc8b.js.map"}